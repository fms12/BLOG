{% extends 'blog/base.html' %}
{% load static %}
{% block title %}~(: BL0G ~  {% endblock title %}



{% block content %}


<style>
.container{
    
     margin-right: 0;
    
     margin-left: 0;
     

}
 h1{
    text-align: center;
} 
.row{
     margin-right: calc(var(--bs-gutter-x)/ 2);
}

			
#box{
    background-color:#49beb7;
    -webkit-box-shadow: 14px -20px 0px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
}
#category-text{
    border: 2px solid #ececec;
    background: #43a2a6;
    border-radius: 5px;
    padding: 2px;
}

.stretched-link{
color:red;

}



</style>





<h1 class="display-1 mb-20 text-white show-on-scroll show-on-scroll-ready" data-show-duration="500" data-show-distance="10" style="transform: translateY(0px); transition-duration: 500ms; opacity: 1;">POST.</h1>


 {% comment %} --> this testing sample only shows simple text {% endcomment %}

{% comment %} <ul>  {% endcomment %}
{% comment %} we have list so we had to loop through the lsit so we are using for loop here {% endcomment %}
{% comment %} {% for post in object_list %} {% endcomment %}

     {% comment %} <li><a href="{% url 'article' post.pk%}">{{ post.title }}</a>


    -<a href="{% url 'categories' post.category|slugify%}">{{post.category}}</a> {% endcomment %}
    {% comment %} slufiy removwe the sapce in url {% endcomment %}

    {% comment %} -   {{ post.author.first_name }}
        {{ post.author.last_name }}
     -  {{ post.post_date }}
    
    {% if user.is_authenticated %}  
        <a href="{% url 'update' post.pk%}">EDIT</a><br>
        <a href="{% url 'delete' post.pk%}">DELETE</a><br>
    {% endif %}
        {{post.snippet}}
 {% endcomment %} 

{% comment %} //////////////////////////////////  --> for checking templates  //////////////////////////////////////////////////////////////////////////{% endcomment %}

<div class="container-card">
<div class="container mt-3">
    <div class="row my-4">

       {% for post in object_list %}
        <div class="col-md-6 ">
            <div class="row no-gutters border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative"  id='box'>
                <div class="col p-4 d-flex flex-column position-static" >
                    {% comment %} <strong class="d-inline-block mb-2 text-primary">
                        {{ post.title }}
                    </strong> {% endcomment %}
                    

                    <div class='border-bottom '>
                        <h3 class="mb-0">{{ post.title }}</h3> 

                        <strong class="d-inline-block mb-2 mt-2" id='category-text'>
                            {{post.category}}
                        </strong> 
                    </div>
           
                    <div class="mb-1">
                   {{ post.post_date }} by  {{ post.author.first_name }} {{ post.author.last_name }}
                    </div>  
                       {% comment %} if you want to show the less content  in  home page then "slice:" give amount of content to you want ot show to in the page  {% endcomment %}
                    <p class="card-text mb-auto">{{ post.body|slice:100|slugify }}....</p>
                    <div class="link ">
                    <a href="{% url 'article' post.pk%}" class="stretched-link" id='continue'>Continue reading</a>
                    </div>
                    {% comment %} still have to adjust this thing happen after user login then user easly delete his/her post throug home page {% endcomment %}
                    {% comment %} {% if user.is_authenticated %} 
                        <div class="text-right">
                        <a href="{% url 'update' post.pk%}">EDIT</a>
                        <a href="{% url 'delete' post.pk%}">DELETE</a>
                        </div> 
                     {% endif %} {% endcomment %}
                </div>
                
                 <div class="col-auto d-none d-lg-block overflow-hidden position-relative" >
                {% if post.header_image %}   
                    <img src="/media/{{post.header_image}}" class="bd-placeholder-img" width="250" height="250" aria-label="Placeholder: Thumbnail">
            
                 {% else %}
                            <img src="{% static 'theblog/image/qmark.png' %}" class="bd-placeholder-img bg-image hover-zoom" width="250" height="250" aria-label="Placeholder: Thumbnail " alt="...">
                {% endif %}
                </div>
            </div>
        </div>
        {% comment %} The current iteration of the loop (1-indexed) it show how many post is post by the user  {% endcomment %}
        {% if forloop.counter|divisibleby:2%}
    </div>
        <div class="row my-4">
        {%endif%}
        {%endfor%}</div>
    <div class="text-center">{{post.category}}</div>
</div>
</div>

{% comment %} {% endfor %} {% endcomment %}
{% comment %} </ul> {% endcomment %}




{% endblock content %}